<?xml version="1.0" encoding="utf-8"?>

<odoo>
<data>

    <record model="ir.ui.view" id="view_product_template_extra_prices">
        <field name="name">product.template.extra.prices</field>
        <field name="model">product.template</field> 
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">

            <xpath expr="sheet/notebook/page[@name='general_information']" position="inside">
                <group string="Precios Extras">
                    <field colspan="2" name="precios_extras_ids" nolabel="1" />
                </group>
            </xpath>
            
            
            <xpath expr="//page[@name='general_information']/group/field[@name='precios_extras_ids']" position="inside">
                <tree string="Price Rules" editable="bottom" limit="10">
                    <field name="pricelist_id" string="Pricelist" options="{'no_create_edit':1, 'no_open': 1}"/>
                    <field name="name" string="Applied On"/>
                    <field name="categ_id" invisible="1"/>
                    <field name="product_tmpl_id" invisible="1" attrs="{'required': [('applied_on', '=', '1_product')]}" domain="[('categ_id', '=', context.get('default_categ_id', True)), '|', ('company_id', '=', company_id), ('company_id', '=', False)]" options="{'no_create_edit':1, 'no_open': 1}"/>
                    <field name="product_id" groups="product.group_product_variant" invisible="1" readonly="context.get('active_model')=='product.product'" attrs="{'required': [('applied_on', '=', '0_product_variant')]}" domain="['|', '|',                         ('id', '=', context.get('default_product_id', 0)),                         ('product_tmpl_id', '=', context.get('default_product_tmpl_id', 0)),                         ('categ_id', '=', context.get('default_categ_id', 0)), '|', ('company_id', '=', company_id), ('company_id', '=', False)                       ]" options="{'no_create_edit':1, 'no_open': 1}"/>
                    <field name="min_quantity" colspan="4"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="fixed_price" string="Price" required="1"/>
                    <field name="date_start" optional="show"/>
                    <field name="date_end" optional="show"/>
                    <field name="applied_on" invisible="1"/>
                    <field name="company_id" groups="base.group_multi_company" optional="show" options="{'no_create':1, 'no_open': 1}"/>
                </tree>
          </xpath>


        </field>
    </record>  


    <record model="ir.ui.view" id="view_product_product_extra_prices">
        <field name="name">product.product.extra.prices</field>
        <field name="model">product.product</field> 
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">

            <xpath expr="//page[@name='general_information']/group/field[@name='precios_extras_ids']" position="attributes">
                <attribute name="attrs">{'readonly': 1}</attribute>
          </xpath>
            

        </field>
    </record>     


</data>
</odoo>